# Tennis Discovery Agent - 基本的な使い方

最終更新: 2025-12-12

このガイドでは、Tennis Discovery Agentの日常的な使い方を説明します。

---

## 📋 目次

- [はじめに](#はじめに)
- [対応チャンネル一覧](#対応チャンネル一覧)
- [メッセージの種類と制限](#メッセージの種類と制限)
- [チャンネル別の使い方](#チャンネル別の使い方)
- [ボタン操作](#ボタン操作)
- [応答フォーマット](#応答フォーマット)
- [Tips & Tricks](#tips--tricks)
- [トラブルシューティング](#トラブルシューティング)

---

## はじめに

Tennis Discovery Agentは、Discordのチャンネルに音声・テキスト・画像・動画を送信するだけで、自動的に構造化された練習記録を生成します。

**基本的な使い方:**

1. Discordアプリを開く
2. 練習シーンに合ったチャンネルを選択（例: `#壁打ち`）
3. 音声メモを録音して送信、またはテキストを入力
4. ボットが自動処理 → Obsidianに保存 → GitHubにプッシュ

---

## 対応チャンネル一覧

### メイン記録チャンネル（4つ）

| チャンネル名 | 英語エイリアス | 絵文字 | 用途 |
|-------------|---------------|--------|------|
| `#壁打ち` | `wall`, `wall-practice` | 🧱 | 基礎練習・反復ドリル |
| `#スクール` | `school`, `lesson` | 🎓 | コーチの指導がある練習 |
| `#試合` | `match`, `game` | 🏆 | 実戦・練習試合 |
| `#フリー練習` | `free`, `free-practice` | 🎾 | 友人との自由練習 |

### 特殊チャンネル（3つ）

| チャンネル名 | 英語エイリアス | 絵文字 | 用途 |
|-------------|---------------|--------|------|
| `#振り返り` | `reflection`, `review` | 📝 | 過去メモへの追記・補足 |
| `#質問` | `question`, `qa` | ❓ | 過去の記録を検索して質問に回答 |
| `#分析` | `analysis`, `analytics` | 📊 | 期間指定のAI分析レポート |

> **Note:** これ以外のチャンネルではボットは反応しません。

---

## メッセージの種類と制限

### 対応フォーマット

| 種類 | 対応フォーマット | サイズ制限 |
|------|-----------------|-----------|
| **音声** | `.ogg`, `.mp3`, `.wav`, `.m4a`, `.opus`, `.webm` | 20MB |
| **テキスト** | テキストメッセージ（10文字以上） | なし |
| **画像** | `.jpg`, `.jpeg`, `.png`, `.gif` | 20MB |
| **動画** | `.mp4`, `.mov`, `.avi`, `.webm` | 20MB |

### 処理の優先順位

1. 添付ファイル（音声 > 画像 > 動画）
2. テキストメッセージ（10文字以上）

---

## チャンネル別の使い方

### 🧱 #壁打ち

**用途:** 1人での壁打ち練習を記録

**記録される内容:**
- ドリル名・練習時間
- 今日の焦点（何を意識したか）
- 身体感覚の気づき
- 改善した点・課題
- 次回のテーマ

**音声メモの例:**
```
今日は30分サーブの練習をしました。
トスを上げる時に左手を完全に脱力すると、
自然な回旋が生まれることに気づきました。
次回はこの脱力感覚を意識して、
2ndサーブの安定性を高めたいです。
```

---

### 🎓 #スクール

**用途:** テニススクールでの練習を記録

**記録される内容:**
- コーチからの指摘・フィードバック
- 新しく学んだ技術
- 練習内容
- 自分の気づき
- 次回までの課題（宿題）

**音声メモの例:**
```
今日のレッスンでは、ボレーの打点について教わりました。
コーチから「打点は身体の前、ネットより高い位置で」
とアドバイスをもらいました。
足を使って前に詰めることを意識したら、
安定してきました。
```

---

### 🏆 #試合

**用途:** 試合の記録・振り返り

**記録される内容:**
- 対戦相手・相手のレベル
- スコア・勝敗
- 良かったプレー・課題となったプレー
- メンタル面の気づき
- 戦術・戦略

**音声メモの例:**
```
今日は社会人サークルの試合でした。
相手は左利きのストローカー、6-4で勝ち。
序盤はバックハンドを狙われて苦戦しましたが、
後半はフォア側に回り込んで逆クロスで対応できました。
サーブは左手の脱力を意識したら安定しました。
```

---

### 🎾 #フリー練習

**用途:** 友人や仲間との自由な練習を記録

**記録される内容:**
- 練習内容
- 気づき
- 課題

**音声メモの例:**
```
今日は大学時代の友人と2時間練習しました。
ストローク中心の練習で、
ラリーが続くようになってきました。
バックハンドの打点が後ろになりがちなので、
次回は前で打つことを意識します。
```

---

### 📝 #振り返り

**用途:** 過去のメモに追記する

**使い方:**

1. 日付やキーワードを含めてメッセージを送信
   ```
   11月27日の壁打ちのメモに追記
   あの時やった「左手の脱力」は今でも効果的だと感じました。
   ```

2. ボットが関連メモをあいまい検索

3. 最もマッチしたメモに追記

**対応している日付表現:**
- 完全日付: `2025/11/27`, `2025-11-27`
- 短縮日付: `11/27`（当年を仮定）
- 相対日付: `昨日`, `一昨日`, `3日前`

**ボットの応答例:**
```
📝 振り返りメモを追記しました

📄 追記したメモ: 2025-11-27-143000-壁打ち.md
💭 追記内容: あの時やった「左手の脱力」は今でも効果的だと...
📁 GitHub: [ファイルを見る](...)
```

---

### ❓ #質問

**用途:** 過去の記録から質問に回答してもらう

**使い方:**

質問を送信するだけ:
```
サーブのトスで気をつけたことは？
```

**ボットの応答例:**
```
❓ 質問: サーブのトスで気をつけたことは？

過去のメモから関連情報を検索しました。

【サーブのトスに関する気づき】

1. 左手の脱力（2025-11-27）
   「左手を完全に脱力すると、自然な回旋が生まれる」

2. 肩からのトス（2025-11-15）
   「手首ではなく肩から上げると安定する」

📚 参照したメモ:
- 2025-11-27 (壁打ち)
- 2025-11-15 (スクール)
```

---

### 📊 #分析

**用途:** 期間を指定してAI分析レポートを生成

**使い方:**

期間を指定してメッセージを送信:
```
今月の練習を分析して
```

**対応している期間表現:**

| 表現 | 対象期間 |
|------|---------|
| `今週`, `this week` | 7日間 |
| `今月`, `this month` | 30日間 |
| `3ヶ月`, `three months` | 90日間 |
| `半年`, `six months` | 180日間 |
| `1年`, `year` | 365日間 |

**ボットの応答例:**
```
📊 今月の分析

練習記録: 12件

【改善した点】
- サーブのトス安定性が向上
- フォアハンドのグリップ調整で安定性UP

【継続中の課題】
- バックハンドの打点が後ろになりがち

【頻繁に出てくるテーマ】
- 脱力
- 打点の位置

【次に取り組むべきこと】
- バックハンドの集中練習

---
*この分析は過去30日の練習メモを基に生成されました。*
```

---

## ボタン操作

### アクションボタン

音声メモを送信すると、ボットが3つのボタンを表示します：

| ボタン | Emoji | 機能 |
|--------|-------|------|
| **深堀り質問** | 🤔 | AIが追加の深掘り質問を生成 |
| **過去と比較** | 📊 | 類似の過去メモと比較分析 |
| **そのまま終了** | ✅ | 現在の内容で記録を確定 |

> **タイムアウト:** 60秒経過するとボタンは無効化され、自動的に保存されます。

### ボタン操作の流れ

1. 音声メモを送信
2. ボットが応答を返し、ボタンを表示
3. 🤔「深堀り質問」をクリック
4. ボットが深掘り質問を生成：「その時、身体のどこを意識していましたか？」
5. 質問に回答してさらに詳しく記録
6. ✅「そのまま終了」で確定

### 確認ダイアログ

一部の操作で確認ダイアログが表示されることがあります：

| ボタン | Emoji | 機能 |
|--------|-------|------|
| **はい** | ✅ | 確認 |
| **いいえ** | ❌ | キャンセル |

> **タイムアウト:** 30秒経過すると「いいえ」と同じ扱いになります。

---

## 応答フォーマット

### 通常のメモ応答

```
🧱 壁打ちの記録を保存しました

🔄 サイクル: 前回（11/25）：トスの高さを意識して練習...
🎯 身体感覚: 左手の脱力、肩から上げる感覚
🟩 成功パターン:
  • 脱力したらトスが安定した
  • 肩から上げると自然な回旋
🟥 失敗パターン:
  • 力を入れると不安定
🟦 次回のテーマ:
  • 2ndサーブの安定性向上
📁 GitHub: [ファイルを見る](...)
📅 2025-11-27
```

### 画像メモ応答

```
🧱 壁打ちの画像メモを保存しました

📸 画像ファイル: 2025-11-27_壁打ち_143000.jpg
💭 コメント: フォアハンドのフォーム確認
📁 GitHub: [ファイルを見る](...)
📅 2025-11-27
```

### 動画メモ応答

```
🧱 壁打ちの動画メモを保存しました

🎥 動画ファイル: 2025-11-27_壁打ち_143000.mp4
💭 コメント: サーブのフォーム動画
📁 GitHub: [ファイルを見る](...)
📅 2025-11-27
```

---

## Tips & Tricks

### 📝 効果的な音声メモの録り方

1. **結論から話す:** 「今日は〇〇を発見しました」
2. **感覚を言語化:** 「〜な感じ」「〜という感覚」を具体的に
3. **Before → After:** 変化を明確に
4. **次回のアクションを明示:** 「次回は〜を意識する」

### 🎯 サイクルを活用する

毎回の練習で「前回 → 今回 → 次回」のサイクルが自動表示されます：

- **前回の課題** を意識して練習
- **今回の発見** を記録
- **次回のテーマ** を設定

これを続けることで、確実に上達していきます。

### 🔍 定期的に振り返る

- **週1回:** `#分析`で「今週の分析」
- **月1回:** `#分析`で「今月の分析」
- **3ヶ月に1回:** `#分析`で「3ヶ月の分析」

### 💡 質問を活用する

スランプ時には、`#質問`で過去の好調時の感覚を検索：
```
調子が良かった時の感覚は？
サーブがうまくいった時のポイントは？
```

---

## トラブルシューティング

### Q1. 音声が文字起こしされない

**原因:** 音声ファイルが大きすぎる、または形式が非対応

**対処:**
- 音声を1-2分以内に分割
- Discord標準の音声録音機能を使用
- 対応フォーマット（.ogg, .mp3等）を確認

---

### Q2. メモが保存されない

**原因:** GitHub連携エラー

**対処:**
1. ボットのログを確認: `sudo journalctl -u tennis-bot -f`
2. GitHub Tokenが有効か確認
3. リポジトリの権限を確認

---

### Q3. ボタンが反応しない

**原因:** タイムアウト（60秒経過）またはボット処理中

**対処:**
- 60秒以内にボタンをクリック
- タイムアウト後は自動保存されるので、新しくメモを送信

---

### Q4. 画像・動画が大きすぎて送信できない

**原因:** Discordの20MB制限

**対処:**
- 画像: 圧縮ツールで容量削減
- 動画: 解像度を下げる、または長さを短縮

---

### Q5. 振り返りでメモが見つからない

**原因:** 日付やキーワードが一致しない

**対処:**
- 日付を明確に指定（「11月27日」など）
- キーワードを追加（「壁打ち」「サーブ」など）
- 複数候補がある場合は、他の候補も表示されます

---

## さらに詳しく知りたい場合

- **機能一覧:** [`機能一覧.md`](./機能一覧.md)
- **コマンドリファレンス:** [`リファレンス/コマンド.md`](./リファレンス/コマンド.md)
- **アーキテクチャ:** [`../開発/概要/アーキテクチャ.md`](../開発/概要/アーキテクチャ.md)
- **セットアップ:** [`../../SETUP.md`](../../SETUP.md)

---

**Tennis Discovery Agentで、あなたのテニス上達を科学的にサポートします！🎾**
