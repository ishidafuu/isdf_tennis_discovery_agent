# Tennis Discovery Agent - 使い方ガイド

最終更新: 2025-11-29

このガイドは、実際にTennis Discovery Agentを使う方法を説明します。

---

## 📋 目次

- [基本的な使い方](#基本的な使い方)
- [チャンネル別の使い方](#チャンネル別の使い方)
- [応用機能](#応用機能)
- [Tips & Tricks](#tips--tricks)
- [トラブルシューティング](#トラブルシューティング)

---

## 基本的な使い方

### 1. 練習後に音声メモを送る（一番シンプルな使い方）

1. **Discordアプリを開く**
2. **チャンネルを選択**（例: `#壁打ち`）
3. **マイクボタンを長押し** して話す
4. **ボットが自動処理** → Obsidianにメモを保存

#### 音声メモの例

```
「今日はサーブの練習をしました。

トスを上げる時に左手を完全に脱力すると、
自然な回旋が生まれることに気づきました。

力を入れて上げようとすると、
かえってトスが不安定になってしまいます。

次回は、この脱力感覚を意識して、
2ndサーブの安定性を高めたいと思います。」
```

#### ボットの応答

```
✅ 壁打ち練習を記録しました！

🔄 サイクル
前回の課題: 2ndサーブが弱い
今回の発見: 左手の脱力で自然な回旋
次回のテーマ: 2ndサーブの安定性向上

📝 Obsidianに保存
📊 GitHubにプッシュ
🎯 Embedding生成完了
```

---

## チャンネル別の使い方

### #壁打ち

**用途**: 1人での壁打ち練習を記録

**記録される内容**:
- 練習メニュー
- 気づいた感覚（身体感覚）
- うまくいったこと / うまくいかなかったこと
- 次回のテーマ

**例**:
```
今日は30分壁打ちをしました。
フォアハンドのグリップを少し厚くしたら、
ボールが安定して入るようになりました。
```

---

### #スクール

**用途**: テニススクールでの練習を記録

**記録される内容**:
- コーチの指導内容
- 練習メニュー
- 気づき・発見
- 次回までの課題

**例**:
```
今日のレッスンでは、
ボレーの打点を前にすることを意識しました。

コーチからは「もっと足を使って」
とアドバイスをもらいました。

次回は、足の動きに集中します。
```

---

### #試合

**用途**: 試合の記録・振り返り

**記録される内容**:
- 対戦相手の情報
- 試合展開
- うまくいった戦術 / 失敗した戦術
- メンタル面の振り返り

**例**:
```
今日は社会人サークルの試合でした。
相手は左利きのストローカー。

序盤はバックハンドを狙われて
うまく対応できませんでしたが、
後半はフォア側に回り込んで
逆クロスに打つことで対応できました。

次回は、左利き対策をもっと練習します。
```

---

### #フリー練習

**用途**: 友人や仲間との自由な練習を記録

**記録される内容**:
- 練習相手の情報
- 練習内容
- 発見・気づき

**例**:
```
今日は大学時代の友人と2時間練習しました。
お互いにストローク中心の練習で、
ラリーが続くようになってきました。
```

---

### #振り返り

**用途**: 過去のメモに追記する

**使い方**:
1. 日付やキーワードを入力
2. ボットが関連メモを検索
3. 追記内容を送信

**例**:
```
11月27日の壁打ちのメモに追記

あの時やった「左手の脱力」は
今でも効果的だと感じました。
```

#### ボットの応答

```
🔍 11月27日のメモを検索しています...

見つかったメモ:
1. 2025-11-27-143000-壁打ち.md
   「左手の脱力で自然な回旋...」

追記内容を送信してください 👇
```

---

### #質問

**用途**: 過去の記録から質問に答えてもらう

**使い方**:
1. 質問を送信
2. ボットが過去メモを検索
3. AI が要約して回答

**例**:

**質問**:
```
サーブのトスで気をつけたことは？
```

**ボットの回答**:
```
🔍 過去のメモから関連情報を検索しました

【サーブのトスに関する気づき】

1. 左手の脱力（2025-11-27）
   「左手を完全に脱力すると、自然な回旋が生まれる」

2. トスの高さ（2025-11-20）
   「トスを少し低めにすると、タイミングが取りやすい」

3. 肘の角度（2025-11-15）
   「肘を伸ばしきらず、少し曲げた状態で上げる」

📝 これらの気づきを意識してみてください。
```

---

### #分析

**用途**: 期間を指定してAI分析レポートを生成

**使い方**:
1. 期間を指定してメッセージ送信
2. ボットがメモを集計
3. AI が分析レポートを生成

**例**:

**リクエスト**:
```
今月の練習を分析して
```

**ボットの回答**:
```
📊 11月の練習分析レポート

【練習頻度】
- 合計: 12回
- 壁打ち: 6回
- スクール: 4回
- 試合: 2回

【成長が見られる技術】
1. サーブ
   - トスの安定性が向上
   - 左手の脱力感覚を習得

2. フォアハンド
   - グリップ調整で安定性UP

【継続している課題】
1. バックハンド
   - 打点が後ろになりがち
   - 次回: 前で打つ意識

【ターニングポイント】
- 11月27日: 左手の脱力を発見（サーブが劇的に改善）

【今後の予測】
12月は、バックハンドの改善に集中することで、
全体的なストロークの安定性が向上すると予測されます。
```

---

## 応用機能

### ボタンインターフェース

音声メモを送信すると、ボットが3つのボタンを表示：

| ボタン | 機能 |
|--------|------|
| 🔍 **もっと詳しく** | 成功体験や失敗の詳細を深掘り |
| 📊 **過去と比較** | 類似の過去メモと比較分析 |
| 💾 **記録を保存** | 現在の対話内容をObsidianに保存 |

#### 使用例

1. 音声メモ送信
2. ボットが質問「その時、どんな感覚でしたか？」
3. 🔍「もっと詳しく」ボタンをクリック
4. ボットが深掘り質問「身体のどの部分を意識しましたか？」
5. さらに詳しく回答
6. 💾「記録を保存」ボタンで確定

---

### 画像・動画メモ

音声だけでなく、画像や動画も送信できます：

**使い方**:
1. Discordで画像・動画をアップロード
2. コメントを追加（任意）
3. 送信

**例**:
```
フォアハンドのフォーム動画です。
打点が前になっているか確認したいです。
```

**ボットの応答**:
```
✅ 動画メモを記録しました！

📹 動画: attachments/2025-11-29/2025-11-29_壁打ち_150000.mp4
📝 Obsidianに保存（動画は埋め込み表示）
```

---

### DM処理（Bot停止時）

Botが停止している間に送った音声・画像・動画も後で処理できます：

**使い方**:
1. ボットにDMで音声・画像・動画を送信
2. メッセージ本文にシーン名を記載（例: 「壁打ち」）
3. Bot起動時に自動処理
4. ✅ リアクションで処理済みマーク

**例**:
```
壁打ち

今日はサーブの練習をしました...
（音声ファイル添付）
```

---

### 意味検索（ベクトル検索）

キーワードではなく、意味で過去のメモを検索：

**従来のキーワード検索**:
```
「サーブ トス」で検索
→ "サーブ" と "トス" が含まれるメモのみ
```

**意味検索**:
```
「サーブのコツ」で検索
→ "左手の脱力"、"トスの高さ"、"タイミング" など、
  意味的に関連するメモをすべて取得
```

**使い方**: `#質問` チャンネルで質問するだけ（自動的に意味検索が使われます）

---

## Tips & Tricks

### 📝 効果的な音声メモの録り方

1. **結論から話す**: 「今日は〇〇を発見しました」
2. **感覚を言語化**: 「〜な感じ」「〜という感覚」を具体的に
3. **Before → After**: 変化を明確に
4. **次回のアクションを明示**: 「次回は〜を意識する」

### 🎯 サイクルを活用する

毎回の練習で「前回 → 今回 → 次回」のサイクルが自動表示されます：

- **前回の課題**を意識して練習
- **今回の発見**を記録
- **次回のテーマ**を設定

これを続けることで、確実に上達していきます。

### 🔍 定期的に振り返る

- **週1回**: `#分析` チャンネルで「今週の分析」
- **月1回**: `#分析` チャンネルで「今月の分析」
- **3ヶ月に1回**: `#分析` チャンネルで「3ヶ月の分析」

長期トレンドを把握することで、成長を実感できます。

### 💡 質問を活用する

スランプやイップス時には、`#質問` チャンネルで過去の好調時の感覚を検索：

```
「調子が良かった時の感覚は？」
「サーブがうまくいった時のポイントは？」
```

### 📊 Obsidianでグラフを見る

Obsidianで生成された統計グラフを確認：

- 月次練習頻度
- シーン別練習回数
- タグ別トレンド

---

## トラブルシューティング

### Q1. 音声が文字起こしされない

**原因**: 音声ファイルが大きすぎる、または形式が非対応

**対処**:
- 音声を1-2分以内に分割
- Discord標準の音声録音機能を使用

---

### Q2. メモが保存されない

**原因**: GitHub連携エラー

**対処**:
1. ボットのログを確認: `sudo journalctl -u tennis-bot -f`
2. GitHub Tokenが有効か確認
3. リポジトリの権限を確認

---

### Q3. 検索で何も見つからない

**原因**:
- ChromaDBに Embeddingが保存されていない
- キーワードが一致していない

**対処**:
1. バッチEmbedding処理を実行:
   ```bash
   python scripts/batch_embed_memos.py
   ```
2. `#質問` チャンネルで意味検索を使用（キーワード検索より柔軟）

---

### Q4. ボタンが反応しない

**原因**: Botの処理中

**対処**:
- 少し待ってから再度クリック
- それでも反応しない場合は、ボットを再起動

---

### Q5. 画像・動画が大きすぎて送信できない

**原因**: Discordの20MB制限

**対処**:
- 画像: 圧縮ツールで容量削減
- 動画: 解像度を下げる、または長さを短縮

---

## さらに詳しく知りたい場合

- **技術的な詳細**: [`docs/FEATURES.md`](./FEATURES.md)
- **システム構成**: [`docs/ARCHITECTURE.md`](./ARCHITECTURE.md)
- **セットアップ**: [`SETUP.md`](../SETUP.md)

---

**Tennis Discovery Agentで、あなたのテニス上達を科学的にサポートします！🎾**
